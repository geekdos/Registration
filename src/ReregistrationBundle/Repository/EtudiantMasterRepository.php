<?php

namespace ReregistrationBundle\Repository;

/**
 * EtudiantMasterRepository
 *
 * This class was generated by the Doctrine ORM. Add your own custom
 * repository methods below.
 */
class EtudiantMasterRepository extends \Doctrine\ORM\EntityRepository
{

    public function getNbrMasterStudent(){
        return $this->counter(3);
    }
    
    private function counter($id_parcours){
        $qb = $this->createQueryBuilder('e');

        $qb->select($qb->expr()->count('e.id'))
            ->join('e.filiere', 'f')
            ->where('f.parcours = :id_parcours')
            ->setParameter('id_parcours', $id_parcours);

        return $count = $qb->getQuery()->getSingleScalarResult();
    }
}
